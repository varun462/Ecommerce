{"ast":null,"code":"import React,{useState}from'react';import{useCart}from'./CartContext';import{useNavigate}from'react-router-dom';import'./order.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrderPage=()=>{const{cart}=useCart();const navigate=useNavigate();const[quantities,setQuantities]=useState({});if(cart.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"empty-cart\",children:\"Your cart is empty.\"});}const handleCheckout=()=>{// Prepare the product data to send\nconst productsData=cart.map(product=>({name:product.title,quantity:quantities[product._id]||1,price:product.price}));// Navigate to the payment page with product data\nnavigate('/payment',{state:{products:productsData}});};const handleQuantityChange=(productId,newQuantity)=>{setQuantities(prevQuantities=>({...prevQuantities,[productId]:newQuantity}));};const totalPrice=Object.keys(quantities).reduce((total,productId)=>{const product=cart.find(item=>item._id===productId);const quantity=quantities[productId];return total+product.price*quantity;},0);return/*#__PURE__*/_jsxs(\"div\",{className:\"order-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Order Page\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"order-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cart.map(product=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.title}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:quantities[product._id]||1,onChange:e=>handleQuantityChange(product._id,parseInt(e.target.value)),min:\"1\",className:\"quantity-input\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"purchase-button\",onClick:handleCheckout,children:\"Proceed To Checkout\"})})]},product._id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"total-price\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Total Price: $\",totalPrice.toFixed(2)]})})]});};export default OrderPage;","map":{"version":3,"names":["React","useState","useCart","useNavigate","jsx","_jsx","jsxs","_jsxs","OrderPage","cart","navigate","quantities","setQuantities","length","className","children","handleCheckout","productsData","map","product","name","title","quantity","_id","price","state","products","handleQuantityChange","productId","newQuantity","prevQuantities","totalPrice","Object","keys","reduce","total","find","item","type","value","onChange","e","parseInt","target","min","onClick","toFixed"],"sources":["C:/Users/varun/Ecommerce-Platform/frontend/src/Pages/Order.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useCart } from './CartContext';\nimport { useNavigate } from 'react-router-dom';\nimport './order.css';\n\nconst OrderPage = () => {\n    const { cart } = useCart();\n    const navigate = useNavigate();\n    const [quantities, setQuantities] = useState({});\n\n    if (cart.length === 0) {\n        return <div className=\"empty-cart\">Your cart is empty.</div>;\n    }\n\n    const handleCheckout = () => {\n        // Prepare the product data to send\n        const productsData = cart.map(product => ({\n            name: product.title,\n            quantity: quantities[product._id] || 1,\n            price: product.price\n        }));\n\n        // Navigate to the payment page with product data\n        navigate('/payment', { state: { products: productsData } });\n    };\n\n    const handleQuantityChange = (productId, newQuantity) => {\n        setQuantities(prevQuantities => ({\n            ...prevQuantities,\n            [productId]: newQuantity\n        }));\n    };\n\n    const totalPrice = Object.keys(quantities).reduce((total, productId) => {\n        const product = cart.find(item => item._id === productId);\n        const quantity = quantities[productId];\n        return total + (product.price * quantity);\n    }, 0);\n\n    return (\n        <div className=\"order-page\">\n            <h2>Order Page</h2>\n            <table className=\"order-table\">\n                <thead>\n                    <tr>\n                        <th>Product Name</th>\n                        <th>Quantity</th>\n                        <th>Action</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {cart.map(product => (\n                        <tr key={product._id}>\n                            <td>{product.title}</td>\n                            <td>\n                                <input\n                                    type=\"number\"\n                                    value={quantities[product._id] || 1}\n                                    onChange={(e) => handleQuantityChange(product._id, parseInt(e.target.value))}\n                                    min=\"1\"\n                                    className=\"quantity-input\"\n                                />\n                            </td>\n                            <td>\n                                <button className=\"purchase-button\" onClick={handleCheckout}>Proceed To Checkout</button>\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n            <div className=\"total-price\">\n                <strong>Total Price: ${totalPrice.toFixed(2)}</strong>\n            </div>\n        </div>\n    );\n};\n\nexport default OrderPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}