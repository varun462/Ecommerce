{"ast":null,"code":"// src/components/AdminPage.js\nimport React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'./admin.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminPage=()=>{const[products,setProducts]=useState([]);const[id,setId]=useState('');const[name,setName]=useState('');const[description,setDescription]=useState('');const[price,setPrice]=useState('');const[image,setImage]=useState('');const navigate=useNavigate();useEffect(()=>{const fetchProducts=async()=>{try{const response=await axios.get('https://ecommerce-0ywf.onrender.com/api/products');setProducts(response.data);}catch(error){console.error('Error fetching products:',error);}};fetchProducts();},[]);const handleAddProduct=async e=>{e.preventDefault();try{const response=await axios.post('https://ecommerce-0ywf.onrender.com/api/products/add',{id,name,description,price,image},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setProducts([...products,response.data]);setId('');setName('');setDescription('');setPrice('');setImage('');alert('Product added successfully');navigate('/admin');}catch(error){alert('Error adding product');}};const handleDeleteProduct=async productId=>{try{await axios.delete(\"https://ecommerce-0ywf.onrender.com/api/products/delete/\".concat(productId),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});setProducts(prevProducts=>prevProducts.filter(product=>product._id!==productId));alert('Product deleted successfully');}catch(error){alert('Error deleting product');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Panel\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddProduct,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add Product\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:price,onChange:e=>setPrice(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Image URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:image,onChange:e=>setImage(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Product\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-list\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Product List\"}),products.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"product-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:product.name}),/*#__PURE__*/_jsx(\"p\",{children:product.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: $\",product.price]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteProduct(product._id),children:\"Delete\"})]})]},product._id))]})]});};export default AdminPage;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","AdminPage","products","setProducts","id","setId","name","setName","description","setDescription","price","setPrice","image","setImage","navigate","fetchProducts","response","get","data","error","console","handleAddProduct","e","preventDefault","post","headers","Authorization","concat","localStorage","getItem","alert","handleDeleteProduct","productId","delete","prevProducts","filter","product","_id","className","children","onSubmit","type","value","onChange","target","required","map","src","alt","onClick"],"sources":["C:/Users/varun/Ecommerce-Platform/frontend/src/Pages/Admin.js"],"sourcesContent":["// src/components/AdminPage.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './admin.css';\n\nconst AdminPage = () => {\n    const [products, setProducts] = useState([]);\n    const [id, setId] = useState('');\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n    const [price, setPrice] = useState('');\n    const [image, setImage] = useState('');\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const fetchProducts = async () => {\n            try {\n                const response = await axios.get('https://ecommerce-0ywf.onrender.com/api/products');\n                setProducts(response.data);\n            } catch (error) {\n                console.error('Error fetching products:', error);\n            }\n        };\n\n        fetchProducts();\n    }, []);\n\n    const handleAddProduct = async (e) => {\n        e.preventDefault();\n        try {\n            const response = await axios.post('https://ecommerce-0ywf.onrender.com/api/products/add', { id, name, description, price, image }, {\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\n                }\n            });\n            setProducts([...products, response.data]);\n            setId('');\n            setName('');\n            setDescription('');\n            setPrice('');\n            setImage('');\n            alert('Product added successfully');\n            navigate('/admin');\n        } catch (error) {\n            alert('Error adding product');\n        }\n    };\n\n    const handleDeleteProduct = async (productId) => {\n        try {\n            await axios.delete(`https://ecommerce-0ywf.onrender.com/api/products/delete/${productId}`, {\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\n                }\n            });\n            setProducts(prevProducts => prevProducts.filter(product => product._id !== productId));\n            alert('Product deleted successfully');\n        } catch (error) {\n            alert('Error deleting product');\n        }\n    };\n\n    return (\n        <div className=\"admin-container\">\n            <div className=\"form-section\">\n                <h2>Admin Panel</h2>\n                <form onSubmit={handleAddProduct}>\n                    <h3>Add Product</h3>\n                    <div className=\"form-group\">\n                        <label>Name:</label>\n                        <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} required />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Description:</label>\n                        <textarea value={description} onChange={(e) => setDescription(e.target.value)} required />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Price:</label>\n                        <input type=\"number\" value={price} onChange={(e) => setPrice(e.target.value)} required />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Image URL:</label>\n                        <input type=\"text\" value={image} onChange={(e) => setImage(e.target.value)} required />\n                    </div>\n                    <button type=\"submit\">Add Product</button>\n                </form>\n            </div>\n            <div className=\"product-list\">\n                <h3>Product List</h3>\n                {products.map(product => (\n                    <div key={product._id} className=\"product-item\">\n                        <img src={product.image} alt={product.name} className=\"product-image\" />\n                        <div className=\"product-details\">\n                            <h3>{product.name}</h3>\n                            <p>{product.description}</p>\n                            <p>Price: ${product.price}</p>\n                            <button onClick={() => handleDeleteProduct(product._id)}>Delete</button>\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default AdminPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}